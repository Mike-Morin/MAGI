Version 4
SHEET 1 2548 1172
WIRE 2208 -288 1488 -288
WIRE -400 -208 -416 -208
WIRE 1488 -192 1488 -288
WIRE 1488 -192 1456 -192
WIRE 1552 -192 1488 -192
WIRE -400 -176 -400 -208
WIRE -272 -176 -400 -176
WIRE 544 -176 464 -176
WIRE -400 -160 -400 -176
WIRE 1024 -160 752 -160
WIRE 1280 -160 1024 -160
WIRE 1456 -160 1456 -192
WIRE 1456 -160 1280 -160
WIRE 352 -144 -16 -144
WIRE 416 -144 352 -144
WIRE 464 -144 464 -176
WIRE 464 -144 416 -144
WIRE 544 -144 528 -144
WIRE -480 -112 -864 -112
WIRE 1456 -112 1456 -160
WIRE 1552 -112 1456 -112
WIRE -864 -96 -864 -112
WIRE 528 -80 528 -144
WIRE -288 -64 -320 -64
WIRE -272 -64 -272 -96
WIRE -272 -64 -288 -64
WIRE -240 -64 -272 -64
WIRE 352 -64 352 -80
WIRE 384 -64 352 -64
WIRE 416 -64 384 -64
WIRE 1280 -64 1280 -160
WIRE -16 -48 -16 -144
WIRE 144 -48 -16 -48
WIRE 240 -48 224 -48
WIRE 2160 -48 2096 -48
WIRE -608 -32 -640 -32
WIRE -512 -32 -528 -32
WIRE -480 -32 -512 -32
WIRE 1552 -32 1472 -32
WIRE 2160 -32 2160 -48
WIRE 2256 -32 2160 -32
WIRE 2288 -32 2256 -32
WIRE 2480 -32 2288 -32
WIRE -16 -16 -16 -48
WIRE 384 0 384 -64
WIRE 448 0 384 0
WIRE 528 0 448 0
WIRE -864 16 -864 -16
WIRE 448 16 448 0
WIRE 624 16 448 16
WIRE 768 16 624 16
WIRE 992 16 912 16
WIRE 1024 16 1024 -160
WIRE 1024 16 992 16
WIRE 1056 16 1024 16
WIRE 240 32 240 -48
WIRE 256 32 240 32
WIRE 288 32 256 32
WIRE 448 32 448 16
WIRE 448 32 368 32
WIRE 2160 32 2160 -32
WIRE 2160 32 2096 32
WIRE 2288 48 2288 -32
WIRE 448 64 448 32
WIRE 768 64 768 16
WIRE 768 64 752 64
WIRE -400 80 -400 32
WIRE -400 80 -416 80
WIRE 688 80 624 80
WIRE -16 96 -16 64
WIRE 256 96 256 32
WIRE 768 96 752 96
WIRE 912 112 912 80
WIRE 992 112 992 80
WIRE 992 112 912 112
WIRE 1008 112 992 112
WIRE 1056 112 1056 80
WIRE 1056 112 1008 112
WIRE 2480 128 2480 -32
WIRE 1664 144 1664 112
WIRE 1664 144 1584 144
WIRE -512 160 -512 -32
WIRE -432 160 -512 160
WIRE -288 160 -288 -64
WIRE -288 160 -352 160
WIRE 1584 160 1584 144
WIRE 1664 160 1664 144
WIRE 144 176 144 160
WIRE 240 176 240 160
WIRE 240 176 144 176
WIRE 624 176 624 80
WIRE 768 176 768 96
WIRE 2016 192 2016 112
WIRE 2208 192 2208 -288
WIRE 2208 192 2016 192
WIRE 624 256 624 240
WIRE 688 256 624 256
WIRE 768 256 688 256
WIRE 1584 256 1584 224
WIRE 1632 256 1584 256
WIRE 1664 256 1664 240
WIRE 1664 256 1632 256
WIRE -16 384 -16 176
WIRE 272 384 272 160
WIRE 272 384 -16 384
WIRE 448 384 448 144
WIRE 448 384 272 384
WIRE 688 384 688 256
WIRE 688 384 448 384
WIRE 784 384 688 384
WIRE 1008 384 1008 112
WIRE 1008 384 784 384
WIRE 1280 384 1280 0
WIRE 1280 384 1008 384
WIRE 1632 384 1632 256
WIRE 1632 384 1280 384
WIRE 1792 384 1792 112
WIRE 1792 384 1632 384
WIRE 1888 384 1888 112
WIRE 1888 384 1792 384
WIRE 2288 384 2288 112
WIRE 2288 384 1888 384
WIRE 2480 384 2480 208
WIRE 2480 384 2288 384
WIRE -320 432 -336 432
WIRE 784 432 784 384
WIRE -32 464 -112 464
WIRE -336 480 -336 432
WIRE -112 480 -112 464
WIRE -336 640 -336 560
WIRE -208 640 -336 640
WIRE -112 640 -112 560
WIRE -112 640 -208 640
WIRE -208 688 -208 640
FLAG 2256 -32 +15
FLAG -416 -208 +15
IOPIN -416 -208 In
FLAG -416 80 -15
IOPIN -416 80 In
FLAG -240 -64 +scr_gate
IOPIN -240 -64 Out
FLAG -640 -32 +reg_voic
IOPIN -640 -32 In
FLAG 1472 -32 +reg_voic
IOPIN 1472 -32 Out
FLAG 144 160 +scr_gate
IOPIN 144 160 In
FLAG -320 432 -15
IOPIN -320 432 Out
FLAG -864 16 0
FLAG -32 464 +15
IOPIN -32 464 Out
FLAG -208 688 0
FLAG 784 432 0
SYMBOL PowerProducts\\LT3045-1 1792 -48 R0
SYMATTR InstName U2
SYMBOL res 1648 144 R0
SYMATTR InstName R9
SYMATTR Value 150k
SYMATTR SpiceLine tol=.1
SYMBOL polcap 1568 160 R0
WINDOW 3 24 56 Left 2
SYMATTR Value 22µ
SYMATTR InstName C14
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=63 Irms=215m Rser=0.52 Lser=0 mfg="Nichicon" pn="UPL1J220MPH" type="Al electrolytic"
SYMBOL polcap 2272 48 R0
WINDOW 3 24 56 Left 2
SYMATTR Value 10µ
SYMATTR InstName C17
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=63 Irms=170m Rser=1 Lser=0 mfg="Nichicon" pn="UPG1J100MPH" type="Al electrolytic"
SYMBOL Comparators\\lm393 -400 -64 R0
SYMATTR InstName X1
SYMATTR Prefix X
SYMBOL res -288 -192 R0
SYMATTR InstName R1
SYMATTR Value 3k
SYMBOL res -336 144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 10E6
SYMBOL res -512 -48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL zener 1296 0 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value BZX84C20VL
SYMBOL cap 1040 16 R0
WINDOW 3 -6 -26 Left 2
SYMATTR Value 4.7µ
SYMATTR InstName C1
SYMATTR SpiceLine V=25 Irms=0 Rser=0.00541346 Lser=507.682p mfg="Würth Elektronik" pn="885012108020 WCAP-CSGP 1206" type="X5R"
SYMBOL polcap 976 16 R0
WINDOW 3 -11 -28 Left 2
SYMATTR Value 4700µ
SYMATTR InstName C2
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=35 Irms=2.03 Rser=0.033 Lser=0 mfg="Nichicon" pn="UPR1V472MRH" type="Al electrolytic"
SYMBOL polcap 896 16 R0
WINDOW 3 -6 -29 Left 2
SYMATTR Value 4700µ
SYMATTR InstName C3
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=35 Irms=2.03 Rser=0.033 Lser=0 mfg="Nichicon" pn="UPR1V472MRH" type="Al electrolytic"
SYMBOL AutoGenerated\\BCP56 720 80 R0
SYMATTR InstName U3
SYMBOL res 752 160 R0
SYMATTR InstName R4
SYMATTR Value 100
SYMBOL zener 640 240 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMATTR Value BZX84C6V2L
SYMBOL cap 608 16 R0
SYMATTR InstName C4
SYMATTR Value 0.001µ
SYMATTR SpiceLine V=50 Irms=0 Rser=0.22122 Lser=216.88p mfg="Würth Elektronik" pn="885012210013 WCAP-CSGP 1812" type="X7R"
SYMBOL res 400 -160 R0
SYMATTR InstName R5
SYMATTR Value 1.5k
SYMBOL zener 368 -80 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMBOL res 512 -96 R0
SYMATTR InstName R6
SYMATTR Value 100
SYMBOL res 384 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 10k
SYMBOL AutoGenerated\\SI2304DS 656 -160 R180
SYMATTR InstName U4
SYMBOL res 432 48 R0
SYMATTR InstName R8
SYMATTR Value 1K
SYMBOL res 240 -64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 3.3K
SYMBOL voltage -16 80 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
SYMATTR SpiceLine Rser=1
SYMATTR InstName V1
SYMATTR Value 18
SYMBOL Misc\\signal -16 -32 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value SINE(0 10 120)
SYMBOL AutoGenerated\\EC103D1 256 128 M90
SYMATTR InstName U5
SYMBOL res 2464 112 R0
SYMATTR InstName R11
SYMATTR Value 100
SYMBOL voltage -336 464 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
SYMATTR SpiceLine Rser=100m
SYMATTR InstName V3
SYMATTR Value -15
SYMBOL voltage -864 -112 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 44 Left 2
SYMATTR SpiceLine Rser=100m
SYMATTR InstName V4
SYMATTR Value 3
SYMBOL voltage -112 464 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
SYMATTR InstName V5
SYMATTR Value 15
SYMATTR SpiceLine Rser=100m
TEXT 16 -240 Left 2 !.tran 10us
TEXT 16 -280 Left 2 !.ic V(+15)=14 V(N012)=14
